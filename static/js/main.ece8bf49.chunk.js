(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,n){e.exports=n(366)},175:function(e,t,n){},365:function(e,t,n){},366:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(53),c=n.n(l),i=(n(175),n(9)),o=n(10),u=n(54),s=n(12),d=n(11),m=n(84),h=n(149),f=n(7),p=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.data;return e?r.a.createElement(f.b,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(f.d,{strokeDasharray:"3 3"}),r.a.createElement(f.p,{dataKey:"name"}),r.a.createElement(f.q,null),r.a.createElement(f.o,null),r.a.createElement(f.f,null),r.a.createElement(f.a,{dataKey:"value",fill:"#8884d8"})):null}}]),n}(a.PureComponent),b=["#1f618d","#6c3483","#3498db","#DAF7A6","#FFC300","#FF5733"],y=b.length,v=function(e){return b[e%y]},E=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.labels;return r.a.createElement(f.m,{cx:300,cy:250,outerRadius:150,width:500,height:500,data:t},r.a.createElement(f.j,null),r.a.createElement(f.i,{dataKey:"name"}),r.a.createElement(f.k,null),n.map(function(e,t){return r.a.createElement(f.l,{key:t,name:e,dataKey:e,stroke:v(t),fill:v(t),fillOpacity:.6})}),r.a.createElement(f.f,null))}}]),n}(a.PureComponent),g=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement(f.h,{width:800,height:400,onMouseEnter:this.onPieEnter},r.a.createElement(f.g,{data:e,cx:120,cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:!0},e.map(function(e,t){return r.a.createElement(f.e,{key:"cell-".concat(t),fill:v(t),label:!0})})),r.a.createElement(f.f,null))}}]),n}(a.PureComponent),j=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.labels;return r.a.createElement(f.b,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(f.d,{strokeDasharray:"3 3"}),r.a.createElement(f.p,{dataKey:"name"}),r.a.createElement(f.q,null),r.a.createElement(f.o,null),r.a.createElement(f.n,{y:0,stroke:"#000"}),r.a.createElement(f.c,{dataKey:"name",height:30,stroke:"#8884d8"}),n.map(function(e,t){return r.a.createElement(f.a,{key:t,dataKey:e,fill:v(t)})}),r.a.createElement(f.f,{verticalAlign:"top",wrapperStyle:{lineHeight:"40px"}}))}}]),n}(a.PureComponent);j.jsfiddleUrl="https://jsfiddle.net/alidingling/mc8r7e6p/";var O=n(58),C=n.n(O),k=C.a.number.formatNumber,w=C.a.string.padding,B=C.a.date,A=B.formatDate,x=B.formatTime,z=B.countDaysDiffBtnDates,D=function(e){return A(e)+" - "+x(e)},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n={};return Object.keys(e).map(function(a){return Object.keys(e[a]).map(function(r){return n[r]||(n[r]={}),n[r][a]=t(e[a][r]),!0})}),n},K=function(e){var t=/(\d{1,2})\/(\d{1,2})\/(\d{2}), (\d{1,2}):(\d{2}) - ([^:]+):(.*)/g.exec(e);if(t&&8===t.length){var n=Object(h.a)(t,8),a=(n[0],n[1]),r=n[2],l=n[3],c=n[4],i=n[5],o=n[6],u=n[7];return{date:function(e,t,n){return"20".concat(n,"-").concat(w(t,2),"-").concat(w(e,2))}(r,a,l),time:function(e,t){return"".concat(w(e,2),":").concat(w(t,2),":00")}(c,i),sender:o,content:u}}return null},N=function(e){var t=e.date+"T"+e.time;return new Date(t)},T=function(e){return e.split(/\s+/).length},P=function(e){var t=e.length,n=e[0],a=e[t-1],r=N(n),l=N(a),c=z(r,l),i=function(e){return e.map(function(e){return{nWords:T(e.content),nChars:e.content.length}}).reduce(function(e,t){return{nWords:e.nWords+t.nWords,nChars:e.nChars+t.nChars}})}(e);return{n:t,firstTime:r,lastTime:l,nDays:c,nWords:i.nWords,nChars:i.nChars}},R=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).renderBarChart=function(e){var t=Object.keys(e).map(function(t){return{name:t,value:e[t]}});return r.a.createElement(p,{data:t})},a.renderRadar=function(e,t){var n=Object.keys(e).map(function(t){return Object(m.a)({name:t},e[t])});return r.a.createElement(E,{data:n,labels:t})},a.renderPieChart=function(e){var t=Object.keys(e).map(function(t){return{name:t,value:e[t]}});return r.a.createElement(g,{data:t})},a.renderBrushBarChart=function(e,t){var n=W(e,function(e){return e.messages}),a=Object.keys(n).map(function(e){return Object(m.a)({name:e},n[e])});return r.a.createElement(j,{data:a,labels:t})},a.renderVizBox=function(e,t){return r.a.createElement("div",null,e,": ",k(t))},a.state={},a}return Object(o.a)(n,[{key:"render",value:function(){var e=function(e){return e.map(function(e){return K(e)}).filter(function(e){return null!==e})}(this.props.data.split("\n")),t=function(e){for(var t={times:{},days:{},all:{}},n=0;n<24;n++)t.times[n]={};return e.map(function(e){t.all[e.sender]||(t.all[e.sender]=0,t.days[e.sender]={}),t.all[e.sender]+=1;var n=Number(e.time.substr(0,2));t.times[n][e.sender]||(t.times[n][e.sender]=0),t.times[n][e.sender]+=1,t.days[e.sender][e.date]||(t.days[e.sender][e.date]={messages:0,chars:0,words:0});var a=t.days[e.sender][e.date];return a.messages+=1,a.chars+=e.content.length,a.words+=T(e.content),!0}),t}(e),n=P(e),a=Object.keys(t.all);return r.a.createElement("div",null,r.a.createElement("p",{className:"pull-right"},"from ",D(n.firstTime)," until ",D(n.lastTime)),r.a.createElement("h2",null,"Totals"),r.a.createElement("ul",null,r.a.createElement("li",null,this.renderVizBox("# messages",n.n)),r.a.createElement("li",null,this.renderVizBox("# days",n.nDays)),r.a.createElement("li",null,this.renderVizBox("# words",n.nWords)),r.a.createElement("li",null,this.renderVizBox("# characters",n.nChars))),this.renderBarChart(t.all),this.renderRadar(t.times,a),this.renderPieChart(t.all),this.renderBrushBarChart(t.days,a))}}]),n}(r.a.Component),F=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement("p",null,"Loading ...")}}]),n}(r.a.Component),H=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.name,t="fa fa-".concat(e);return r.a.createElement("i",{className:t})}}]),n}(r.a.Component),L=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){e.props.onChangeHandler(t)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.name||"file";return r.a.createElement("div",{className:"file-upload-wrapper"},r.a.createElement("div",{className:"file-upload"},r.a.createElement("input",{accept:this.props.accept,type:"file",name:e,onChange:this.props.onChange}),r.a.createElement(H,{name:"arrow-up"})))}}]),n}(r.a.Component),V=(n(365),function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onChangeHandler=function(e){a.setState({isLoading:!0});var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=n.result;a.setState({data:t,isAnalyzed:!0,isLoading:!1})},n.readAsText(t)},a.reset=function(){a.setState({isAnalyzed:!1})},a.state={isLoading:!1,isAnalyzed:!1,data:null},a.onChangeHandler=a.onChangeHandler.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"renderBody",value:function(){var e=this,t=this.state,n=t.data,a=t.isAnalyzed;return t.isLoading?r.a.createElement(F,null):a&&n?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return e.reset()}},r.a.createElement(H,{name:"arrow-left"})," Reset")),r.a.createElement(R,{data:n})):r.a.createElement(L,{accept:".txt",type:"file",name:"file",onChange:this.onChangeHandler})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"WhatsApp Chat Analyzer"),this.renderBody()))}}]),n}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[170,1,2]]]);
//# sourceMappingURL=main.ece8bf49.chunk.js.map