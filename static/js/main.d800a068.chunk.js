(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,n){e.exports=n(366)},175:function(e,t,n){},365:function(e,t,n){},366:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(53),c=n.n(l),i=(n(175),n(10)),o=n(11),u=n(54),s=n(13),d=n(12),m=n(84),f=n(7),h=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.data;return e?r.a.createElement(f.b,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(f.d,{strokeDasharray:"3 3"}),r.a.createElement(f.p,{dataKey:"name"}),r.a.createElement(f.q,null),r.a.createElement(f.o,null),r.a.createElement(f.f,null),r.a.createElement(f.a,{dataKey:"value",fill:"#8884d8"})):null}}]),n}(a.PureComponent),p=["#1f618d","#6c3483","#3498db","#DAF7A6","#FFC300","#FF5733"],v=p.length,y=function(e){return p[e%v]},b=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.labels;return r.a.createElement(f.m,{cx:300,cy:250,outerRadius:150,width:500,height:500,data:t},r.a.createElement(f.j,null),r.a.createElement(f.i,{dataKey:"name"}),r.a.createElement(f.k,null),n.map(function(e,t){return r.a.createElement(f.l,{key:t,name:e,dataKey:e,stroke:y(t),fill:y(t),fillOpacity:.6})}),r.a.createElement(f.f,null))}}]),n}(a.PureComponent),E=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement(f.h,{width:800,height:400,onMouseEnter:this.onPieEnter},r.a.createElement(f.g,{data:e,cx:120,cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:!0},e.map(function(e,t){return r.a.createElement(f.e,{key:"cell-".concat(t),fill:y(t),label:!0})})),r.a.createElement(f.f,null))}}]),n}(a.PureComponent),g=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.labels;return r.a.createElement(f.b,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(f.d,{strokeDasharray:"3 3"}),r.a.createElement(f.p,{dataKey:"name"}),r.a.createElement(f.q,null),r.a.createElement(f.o,null),r.a.createElement(f.n,{y:0,stroke:"#000"}),r.a.createElement(f.c,{dataKey:"name",height:30,stroke:"#8884d8"}),n.map(function(e,t){return r.a.createElement(f.a,{key:t,dataKey:e,fill:y(t)})}),r.a.createElement(f.f,{verticalAlign:"top",wrapperStyle:{lineHeight:"40px"}}))}}]),n}(a.PureComponent);g.jsfiddleUrl="https://jsfiddle.net/alidingling/mc8r7e6p/";var j=n(149),O=n(58),k=n.n(O),w=k.a.number.formatNumber,C=k.a.string.padding,A=k.a.date,D=A.formatDate,W=A.formatTime,K=A.countDaysDiffBtnDates,N=function(e){return D(e)+" - "+W(e)},T=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/(\d{1,2})\/(\d{1,2})\/(\d{2}), (\d{1,2}):(\d{2}) [AP]M - ([^:]+):(.*)/g,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=n.exec(t);if(r&&8===r.length){var l=Object(j.a)(r,8),c=(l[0],l[1]),i=l[2],o=l[3],u=l[4],s=l[5],d=l[6],m=l[7];return{date:function(e,t,n){return"20".concat(n,"-").concat(C(t,2),"-").concat(C(e,2))}(i,c,o),time:function(e,t){return"".concat(C(e,2),":").concat(C(t,2),":00")}(u,s),sender:d,content:m}}return 1===a?e(t,/(\d{1,2})\/(\d{1,2})\/(\d{2}), (\d{1,2}):(\d{2}) - ([^:]+):(.*)/g,2):null},x=function(e){var t=e.date+"T"+e.time;return new Date(t)},F=function(e){return e.split(/\s+/).length},H=function(e){var t=e.length,n=e[0],a=e[t-1];console.log({firstMessage:n,lastMessage:a});var r=x(n),l=x(a),c=K(r,l),i=function(e){return e.map(function(e){return{nWords:F(e.content),nChars:e.content.length}}).reduce(function(e,t){return{nWords:e.nWords+t.nWords,nChars:e.nChars+t.nChars}})}(e);return{n:t,firstTime:r,lastTime:l,nDays:c,nWords:i.nWords,nChars:i.nChars}},P=function(e){var t=function(e,t){return r.a.createElement("div",null,e,": ",w(t))},n=function(e){return e.map(function(e){return T(e)}).filter(function(e){return null!==e})}(e.data.split("\n"));if(0===n.length)throw Error("could not parse file");var a=function(e){for(var t={times:{},days:{},all:{}},n=0;n<24;n++)t.times[n]={};return e.map(function(e){t.all[e.sender]||(t.all[e.sender]=0,t.days[e.sender]={}),t.all[e.sender]+=1;var n=Number(e.time.substr(0,2));t.times[n][e.sender]||(t.times[n][e.sender]=0),t.times[n][e.sender]+=1,t.days[e.sender][e.date]||(t.days[e.sender][e.date]={messages:0,chars:0,words:0});var a=t.days[e.sender][e.date];return a.messages+=1,a.chars+=e.content.length,a.words+=F(e.content),!0}),t}(n),l=H(n),c=Object.keys(a.all);return r.a.createElement("div",null,r.a.createElement("p",{className:"pull-right"},"from ",N(l.firstTime)," until"," ",N(l.lastTime)),r.a.createElement("h2",null,"Totals"),r.a.createElement("ul",null,r.a.createElement("li",null,t("# messages",l.n)),r.a.createElement("li",null,t("# days",l.nDays)),r.a.createElement("li",null,t("# words",l.nWords)),r.a.createElement("li",null,t("# characters",l.nChars))),function(e){var t=Object.keys(e).map(function(t){return{name:t,value:e[t]}});return r.a.createElement(h,{data:t})}(a.all),function(e,t){var n=Object.keys(e).map(function(t){return Object(m.a)({name:t},e[t])});return r.a.createElement(b,{data:n,labels:t})}(a.times,c),function(e){var t=Object.keys(e).map(function(t){return{name:t,value:e[t]}});return r.a.createElement(E,{data:t})}(a.all),function(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n={};return Object.keys(e).map(function(a){return Object.keys(e[a]).map(function(r){return n[r]||(n[r]={}),n[r][a]=t(e[a][r]),!0})}),n}(e,function(e){return e.messages}),a=Object.keys(n).map(function(e){return Object(m.a)({name:e},n[e])});return r.a.createElement(g,{data:a,labels:t})}(a.days,c))},z=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement("p",null,"Loading ...")}}]),n}(r.a.Component),B=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.name,t="fa fa-".concat(e);return r.a.createElement("i",{className:t})}}]),n}(r.a.Component),L=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){e.props.onChangeHandler(t)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.name||"file";return r.a.createElement("div",{className:"file-upload-wrapper"},r.a.createElement("div",{className:"file-upload"},r.a.createElement("input",{accept:this.props.accept,type:"file",name:e,onChange:this.props.onChange}),r.a.createElement(B,{name:"arrow-up"})))}}]),n}(r.a.Component),R=(n(365),function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onChangeHandler=function(e){a.setState({isLoading:!0});var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=n.result;console.log(t),a.setState({data:t,isAnalyzed:!0,isLoading:!1})},n.readAsText(t)},a.reset=function(){a.setState({isAnalyzed:!1})},a.state={isLoading:!1,isAnalyzed:!1,data:null},a.onChangeHandler=a.onChangeHandler.bind(Object(u.a)(a)),a}return Object(o.a)(n,[{key:"renderBody",value:function(){var e=this,t=this.state,n=t.data,a=t.isAnalyzed;return t.isLoading?r.a.createElement(z,null):a&&n?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return e.reset()}},r.a.createElement(B,{name:"arrow-left"})," Reset")),r.a.createElement(P,{data:n})):r.a.createElement(L,{accept:".txt",type:"file",name:"file",onChange:this.onChangeHandler})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"WhatsApp Chat Analyzer"),this.renderBody()))}}]),n}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[170,1,2]]]);
//# sourceMappingURL=main.d800a068.chunk.js.map