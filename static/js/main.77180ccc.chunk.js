(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,n){e.exports=n(365)},364:function(e,t,n){},365:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(53),c=n.n(l),i=n(10),u=n(11),o=n(54),s=n(13),d=n(12),m=n(149),f=n(57),p=n.n(f),h=p.a.number.formatNumber,b=p.a.string.padding,y=p.a.date,v=y.formatDate,E=y.formatTime,g=y.countDaysDiffBtnDates,j=function(e){return v(e)+" - "+E(e)},O=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/(\d{1,2})\/(\d{1,2})\/(\d{2}), (\d{1,2}):(\d{2}) [AP]M - ([^:]+):(.*)/g,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=n.exec(t);if(r&&8===r.length){var l=Object(m.a)(r,8),c=(l[0],l[1]),i=l[2],u=l[3],o=l[4],s=l[5],d=l[6],f=l[7];return{date:function(e,t,n){return"20".concat(n,"-").concat(b(t,2),"-").concat(b(e,2))}(i,c,u),time:function(e,t){return"".concat(b(e,2),":").concat(b(t,2),":00")}(o,s),sender:d,content:f}}return 1===a?e(t,/(\d{1,2})\/(\d{1,2})\/(\d{2}), (\d{1,2}):(\d{2}) - ([^:]+):(.*)/g,2):null},k=function(e){var t=e.date+"T"+e.time;return new Date(t)},C=function(e){return e.split(/\s+/).length},w=function(e){var t=e.length,n=e[0],a=e[t-1];console.log({firstMessage:n,lastMessage:a});var r=k(n),l=k(a),c=g(r,l),i=function(e){return e.map(function(e){return{nWords:C(e.content),nChars:e.content.length}}).reduce(function(e,t){return{nWords:e.nWords+t.nWords,nChars:e.nChars+t.nChars}})}(e);return{n:t,firstTime:r,lastTime:l,nDays:c,nWords:i.nWords,nChars:i.nChars}},A=n(84),D=n(7),K=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.data;return e?r.a.createElement(D.b,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(D.d,{strokeDasharray:"3 3"}),r.a.createElement(D.p,{dataKey:"name"}),r.a.createElement(D.q,null),r.a.createElement(D.o,null),r.a.createElement(D.f,null),r.a.createElement(D.a,{dataKey:"value",fill:"#8884d8"})):null}}]),n}(a.PureComponent),N=["#1f618d","#6c3483","#3498db","#DAF7A6","#FFC300","#FF5733"],T=N.length,W=function(e){return N[e%T]},x=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.labels;return r.a.createElement(D.m,{cx:300,cy:250,outerRadius:150,width:500,height:500,data:t},r.a.createElement(D.j,null),r.a.createElement(D.i,{dataKey:"name"}),r.a.createElement(D.k,null),n.map(function(e,t){return r.a.createElement(D.l,{key:t,name:e,dataKey:e,stroke:W(t),fill:W(t),fillOpacity:.6})}),r.a.createElement(D.f,null))}}]),n}(a.PureComponent),F=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement(D.h,{width:800,height:400,onMouseEnter:this.onPieEnter},r.a.createElement(D.g,{data:e,cx:120,cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:!0},e.map(function(e,t){return r.a.createElement(D.e,{key:"cell-".concat(t),fill:W(t),label:!0})})),r.a.createElement(D.f,null))}}]),n}(a.PureComponent),H=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.labels;return r.a.createElement(D.b,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(D.d,{strokeDasharray:"3 3"}),r.a.createElement(D.p,{dataKey:"name"}),r.a.createElement(D.q,null),r.a.createElement(D.o,null),r.a.createElement(D.n,{y:0,stroke:"#000"}),r.a.createElement(D.c,{dataKey:"name",height:30,stroke:"#8884d8"}),n.map(function(e,t){return r.a.createElement(D.a,{key:t,dataKey:e,fill:W(t)})}),r.a.createElement(D.f,{verticalAlign:"top",wrapperStyle:{lineHeight:"40px"}}))}}]),n}(a.PureComponent);H.jsfiddleUrl="https://jsfiddle.net/alidingling/mc8r7e6p/";var P=function(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n={};return Object.keys(e).map(function(a){return Object.keys(e[a]).map(function(r){return n[r]||(n[r]={}),n[r][a]=t(e[a][r]),!0})}),n}(e,function(e){return e.messages}),a=Object.keys(n).map(function(e){return Object(A.a)({name:e},n[e])});return r.a.createElement(H,{data:a,labels:t})},z=function(e,t){return r.a.createElement("div",null,e,": ",h(t))},L=function(e){var t=function(e){return e.map(function(e){return O(e)}).filter(function(e){return null!==e})}(e.data.split("\n"));if(0===t.length)throw Error("could not parse file");var n=function(e){for(var t={times:{},days:{},all:{}},n=0;n<24;n++)t.times[n]={};return e.map(function(e){t.all[e.sender]||(t.all[e.sender]=0,t.days[e.sender]={}),t.all[e.sender]+=1;var n=Number(e.time.substr(0,2));t.times[n][e.sender]||(t.times[n][e.sender]=0),t.times[n][e.sender]+=1,t.days[e.sender][e.date]||(t.days[e.sender][e.date]={messages:0,chars:0,words:0});var a=t.days[e.sender][e.date];return a.messages+=1,a.chars+=e.content.length,a.words+=C(e.content),!0}),t}(t),a=w(t),l=Object.keys(n.all);return r.a.createElement("div",null,r.a.createElement("p",{className:"pull-right"},"from ",j(a.firstTime)," until"," ",j(a.lastTime)),r.a.createElement("h2",null,"Totals"),r.a.createElement("ul",null,r.a.createElement("li",null,z("# messages",a.n)),r.a.createElement("li",null,z("# days",a.nDays)),r.a.createElement("li",null,z("# words",a.nWords)),r.a.createElement("li",null,z("# characters",a.nChars))),function(e){var t=Object.keys(e).map(function(t){return{name:t,value:e[t]}});return r.a.createElement(K,{data:t})}(n.all),function(e,t){var n=Object.keys(e).map(function(t){return Object(A.a)({name:t},e[t])});return r.a.createElement(x,{data:n,labels:t})}(n.times,l),function(e){var t=Object.keys(e).map(function(t){return{name:t,value:e[t]}});return r.a.createElement(F,{data:t})}(n.all),P(n.days,l))},R=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("p",null,"Loading ...")}}]),n}(r.a.Component),B=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.name,t="fa fa-".concat(e);return r.a.createElement("i",{className:t})}}]),n}(r.a.Component),M=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){e.props.onChangeHandler(t)},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.name||"file";return r.a.createElement("div",{className:"file-upload-wrapper"},r.a.createElement("div",{className:"file-upload"},r.a.createElement("input",{accept:this.props.accept,type:"file",name:e,onChange:this.props.onChange}),r.a.createElement(B,{name:"arrow-up"})))}}]),n}(r.a.Component),S=(n(364),function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onChangeHandler=function(e){a.setState({isLoading:!0});var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=n.result;a.setState({data:t,isAnalyzed:!0,isLoading:!1})},n.readAsText(t)},a.reset=function(){a.setState({isAnalyzed:!1})},a.state={isLoading:!1,isAnalyzed:!1,data:null},a.onChangeHandler=a.onChangeHandler.bind(Object(o.a)(a)),a}return Object(u.a)(n,[{key:"renderBody",value:function(){var e=this,t=this.state,n=t.data,a=t.isAnalyzed;return t.isLoading?r.a.createElement(R,null):a&&n?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return e.reset()}},r.a.createElement(B,{name:"arrow-left"})," Reset")),r.a.createElement(L,{data:n})):r.a.createElement(M,{accept:".txt",type:"file",name:"file",onChange:this.onChangeHandler})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"WhatsApp Chat Analyzer"),this.renderBody()))}}]),n}(r.a.Component));c.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[170,1,2]]]);
//# sourceMappingURL=main.77180ccc.chunk.js.map