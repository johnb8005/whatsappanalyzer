{"version":3,"sources":["charts/barchart.js","charts/colors.js","charts/radar.js","charts/pie.js","charts/brushbar.js","analysis.js","components/loader.js","components/icon.js","components/file-upload.js","App.js","serviceWorker.js","index.js"],"names":["MyBarChart","data","this","props","react_default","a","createElement","es6","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","fill","PureComponent","colors","nColors","length","getColor","idx","Example","_this$props","labels","cx","cy","outerRadius","map","l","i","key","name","stroke","fillOpacity","onMouseEnter","onPieEnter","innerRadius","paddingAngle","label","entry","index","concat","y","verticalAlign","wrapperStyle","lineHeight","jsfiddleUrl","formatNumber","Utils","number","padding","string","date","formatDate","utilFormatTime","formatTime","countDaysDiffBtnDates","formatDateAndTime","d","transpose","arr","fn","arguments","undefined","r","Object","keys","parseLine","line","exec","_a","slicedToArray","month","day","year","hour","minute","sender","content","formatDateParse","time","toDate","c","datestr","Date","countWordsLine","split","getTotals","n","firstMessage","lastMessage","firstTime","lastTime","nDays","_count","nWords","nChars","reduce","b","count","Analysis","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","renderBarChart","objMap","k","value","barchart_MyBarChart","renderRadar","_objectSpread","radar_Example","renderPieChart","pie_Example","renderBrushBarChart","rt","messages","brushbar_Example","renderVizBox","state","lines","filter","getContent","senders","times","days","all","hourIndex","Number","substr","chars","words","getSenders","total","className","React","Component","Loader","Icon","FileUpload","onChange","e","onChangeHandler","accept","type","icon_Icon","App","event","setState","isLoading","file","target","files","fileReader","FileReader","onloadend","result","isAnalyzed","readAsText","reset","bind","assertThisInitialized","_this2","_this$state","loader_Loader","onClick","analysis_Analysis","file_upload_FileUpload","renderBody","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.11216f3b.chunk.js","sourcesContent":["import React, {PureComponent} from 'react';\nimport {\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n} from 'recharts';\n\nexport default class MyBarChart extends PureComponent {\n  render() {\n    const { data } = this.props;\n\n    if (!data) {\n      return null;\n    }\n\n    return (\n      <BarChart\n        width={500}\n        height={300}\n        data={data}\n        margin={{\n          top: 5, right: 30, left: 20, bottom: 5,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        <Tooltip />\n        <Legend />\n        <Bar dataKey=\"value\" fill=\"#8884d8\" />\n      </BarChart>\n    );\n  }\n}","const colors = ['#1f618d', '#6c3483', '#3498db', '#DAF7A6', '#FFC300', '#FF5733'];\nconst nColors = colors.length;\n\n// simple helper to make sure we never call a color that does not exist\nexport const getColor = idx => colors[idx % nColors];","import React, { PureComponent } from 'react';\nimport {\n  Radar, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, Legend\n} from 'recharts';\n\nimport { getColor } from './colors';\n\nexport default class Example extends PureComponent {\n  render() {\n    const { data, labels } = this.props;\n\n    return (\n      <RadarChart cx={300} cy={250} outerRadius={150} width={500} height={500} data={data}>\n        <PolarGrid />\n        <PolarAngleAxis dataKey=\"name\" />\n        <PolarRadiusAxis />\n        {labels.map((l, i) => {\n          return <Radar key={i} name={l} dataKey={l} stroke={getColor(i)} fill={getColor(i)} fillOpacity={0.6} />\n        })}\n        <Legend/>\n      </RadarChart>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport {\n  PieChart, Pie, Cell, Legend,\n} from 'recharts';\n\nimport { getColor } from './colors';\n\nexport default class Example extends PureComponent {\n  render() {\n    const { data } = this.props;\n    return (\n      <PieChart width={800} height={400} onMouseEnter={this.onPieEnter}>\n        <Pie\n          data={data}\n          cx={120}\n          cy={200}\n          innerRadius={60}\n          outerRadius={80}\n          fill=\"#8884d8\"\n          paddingAngle={5}\n          dataKey=\"value\"\n          label\n        >\n          {\n            data.map((entry, index) => <Cell key={`cell-${index}`} fill={getColor(index)} label />)\n          }\n\n        </Pie>\n        <Legend/>\n      </PieChart>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport {\n  BarChart, Bar, Brush, ReferenceLine, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n} from 'recharts';\n\nimport { getColor } from './colors';\n\n\nexport default class Example extends PureComponent {\n  static jsfiddleUrl = 'https://jsfiddle.net/alidingling/mc8r7e6p/';\n\n  render() {\n    const { data, labels } = this.props;\n    return (\n      <BarChart\n        width={500}\n        height={300}\n        data={data}\n        margin={{\n          top: 5, right: 30, left: 20, bottom: 5,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        <Tooltip />\n        \n        <ReferenceLine y={0} stroke=\"#000\" />\n        <Brush dataKey=\"name\" height={30} stroke=\"#8884d8\" />\n\n        {labels.map((l, i) => {\n          return <Bar key={i} dataKey={l} fill={getColor(i)} />\n        })}\n        <Legend verticalAlign=\"top\" wrapperStyle={{ lineHeight: '40px' }} />\n      </BarChart>\n    );\n  }\n}\n","import React from 'react';\n\nimport BarChart from './charts/barchart';\nimport RadarChart from './charts/radar';\nimport PieChart from './charts/pie';\nimport BrushBarChart from './charts/brushbar';\n\nimport Utils from  '@nexys/utils'\n\n//const number = utils;\nconst { formatNumber } = Utils.number;\nconst { padding } = Utils.string;\nconst { formatDate, formatTime: utilFormatTime, countDaysDiffBtnDates } = Utils.date;\n\nconst formatDateAndTime = d => formatDate(d) + ' - ' + utilFormatTime(d);\n\n// todo add to utils\n/**\n * [description]\n * @param  {[type]}   arr [description]\n * @param  fn  function that maps the value that is transposed to a potential other value. By default returns same value\n * @return {[type]}       [description]\n */\nconst transpose = (arr, fn = a => a) => {\n  const r = {};\n\n  Object.keys(arr).map(idx => {\n    return Object.keys(arr[idx]).map(d => {\n      if (!r[d]) {\n        r[d] = {};\n      }\n\n      r[d][idx] = fn(arr[idx][d]);\n\n      return true;\n    })\n  });\n\n  return r;\n}\n\n/*\ninput and expected output to add to tests\nconst a = {\n  'adriana': {a: 1, b: 2},\n  'johan': {a: 3, b: 4},\n}\n\nconst b = {\n  a: {\n    adriana: 1,\n    johan: 3\n  },\n  b: {\n    adriana: 2,\n    johan: 4\n  }\n}*/\n\nconst formatDateParse = (day, month, year) => {\n  return `20${year}-${padding(month, 2)}-${padding(day, 2)}`;\n}\n\nconst formatTime = (hour, minute) => {\n  return `${padding(hour, 2)}:${padding(minute, 2)}:00`;\n}\n\nconst parseLine = line => {\n  const re = /(\\d{1,2})\\/(\\d{1,2})\\/(\\d{2}), (\\d{1,2}):(\\d{2}) - ([^:]+):(.*)/g;\n  const a = re.exec(line);\n\n  // check if parsing was succesful and that we get the expected amount of fields\n  if (a && a.length === 8) {\n    /* eslint-disable no-unused-vars */\n    const [_, month, day, year, hour, minute, sender, content] = a;\n    /* eslint-enable no-unused-vars */\n\n    const date = formatDateParse(day, month, year);\n    const time = formatTime(hour, minute);\n\n    return {date, time, sender, content};\n  } else {\n    return null;\n  }\n}\n\nconst getContent = lines => {\n  return lines\n    .map(line => parseLine(line))\n    .filter(line => line !== null);\n}\n\nconst getSenders = content => {\n  const senders = {\n    times: {},\n    days: {},\n    all: {}\n  };\n\n  // init times\n  for (let i = 0; i<24; i++) {\n    senders.times[i] = {};\n  }\n\n  content.map(c => {\n    const sender = senders.all[c.sender];\n\n    // init object with new sender key\n    // do it both for `all` and days\n    if(!sender) {\n      senders.all[c.sender] = 0;\n      senders.days[c.sender] = {};\n    }\n\n    senders.all[c.sender] += 1;\n\n    // update hour attribute\n    const hourIndex = Number(c.time.substr(0,2));\n\n    const senderHour = senders.times[hourIndex][c.sender];\n\n    if (!senderHour) {\n      senders.times[hourIndex][c.sender] = 0\n    }\n\n    senders.times[hourIndex][c.sender] += 1; \n    // end hours\n\n    // update days attribute\n    // here we don't have to check whether sender already exist since it was added earlier, only check for day    \n    if (!senders.days[c.sender][c.date]) {\n      senders.days[c.sender][c.date] = {messages: 0, chars: 0, words: 0};\n    }\n\n    // dummy var\n    const d = senders.days[c.sender][c.date];\n\n    d.messages += 1;\n    d.chars += c.content.length; \n    d.words += countWordsLine(c.content);\n    // end days\n\n    return true;\n  });\n\n  return senders;\n}\n\nconst toDate = c => {\n  const datestr = c.date + 'T' + c.time;\n\n  return new Date(datestr);\n}\nconst countWordsLine = line => line.split(/\\s+/).length;\n\nconst count = content => {\n  return content\n    .map(c => {\n      const nWords = countWordsLine(c.content);\n      const nChars = c.content.length;\n\n      return {nWords, nChars};\n    })\n    .reduce((a, b) => {\n      return {\n        nWords: a.nWords + b.nWords,\n        nChars: a.nChars + b.nChars\n      };\n    });\n}\n\nconst getTotals = content => {\n  const n = content.length;\n  const firstMessage = content[0];\n  const lastMessage = content[n - 1];\n\n  const firstTime = toDate(firstMessage);\n  const lastTime = toDate(lastMessage);\n\n  const nDays = countDaysDiffBtnDates(firstTime, lastTime);\n\n  const {nWords, nChars} = count(content)\n\n  return {n, firstTime, lastTime, nDays, nWords, nChars};\n}\n\nexport default class Analysis extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  renderBarChart = (objMap) => {\n    // turn object into array (right format for barchart)\n    const r = Object.keys(objMap).map(k => {\n      return {name: k, value: objMap[k]};\n    });\n\n    return <BarChart data={r}/>\n  }\n\n  renderRadar = (data, labels) => {\n    const r = Object.keys(data).map(idx => {\n      return {name: idx, ...data[idx]}\n    });\n\n    return <RadarChart data={r} labels={labels}/>;\n  }\n\n  renderPieChart = objMap => {\n\n    // turn object into array (right format for barchart)\n    const r = Object.keys(objMap).map(k => {\n      return {name: k, value: objMap[k]};\n    });\n    return <PieChart data={r}/>\n  }\n\n  renderBrushBarChart = (objMap, labels) => {\n    const rt = transpose(objMap, a => a.messages);\n    const r = Object.keys(rt).map(k => {\n      return {\n        name: k, ...rt[k]\n      }\n    });\n\n    return <BrushBarChart data={r} labels={labels}/>\n  }\n\n  renderVizBox = (label, value) => {\n    return <div>{label}: {formatNumber(value)}</div>\n  }\n\n  render() {\n    const lines = this.props.data.split('\\n');\n    const content = getContent(lines);\n    const senders = getSenders(content);\n\n    const total = getTotals(content);\n\n    const labels = Object.keys(senders.all);\n    \n    return <div>\n      <p className=\"pull-right\">from {formatDateAndTime(total.firstTime)} until {formatDateAndTime(total.lastTime)}</p>\n      <h2>Totals</h2>\n\n      <ul>\n        <li>{this.renderVizBox('# messages', total.n)}</li>\n        <li>{this.renderVizBox('# days', total.nDays)}</li>\n        <li>{this.renderVizBox('# words', total.nWords)}</li>\n        <li>{this.renderVizBox('# characters', total.nChars)}</li>\n      </ul>\n\n\n\n\n      {this.renderBarChart(senders.all)}\n      {this.renderRadar(senders.times, labels)}\n      {this.renderPieChart(senders.all)}\n      {this.renderBrushBarChart(senders.days, labels)}\n      \n    </div>;\n  }\n}","import React from 'react';\n\nexport default class Loader extends React.Component {\n  render() {\n    return <p>Loading ...</p>;\n  }\n}\n","import React from 'react';\n\nexport default class Icon extends React.Component {\n  render() {\n    const { name } = this.props;\n    const className = `fa fa-${name}`;\n\n    return <i className={className}></i>;\n  }\n};","/**\n * file upload\n * https://speckyboy.com/custom-file-upload-fields/\n * https://codepen.io/stebaker/pen/tImBc\n */\n\nimport React from 'react';\n\nimport Icon from './icon';\n\nexport default class FileUpload extends React.Component {\n  onChange = (e) => {\n    this.props.onChangeHandler(e)\n  }\n\n  render() {\n    const name = this.props.name || 'file';\n\n    return (<div className=\"file-upload-wrapper\">\n      <div className=\"file-upload\">\n        <input accept={this.props.accept} type=\"file\" name={name} onChange={this.props.onChange}/>\n        <Icon name=\"arrow-up\"/>\n      </div>\n    </div>);\n  }\n}\n","import React from 'react';\n\nimport Analysis from './analysis';\nimport Loader from './components/loader';\nimport FileUpload from './components/file-upload';\nimport Icon from './components/icon';\n\n//import sampleData from './sampleData.js';\n\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoading: false,\n      isAnalyzed: false,\n      data: null\n    };\n\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n  }\n\n  onChangeHandler = event => {\n    this.setState({isLoading: true});\n\n    const file = event.target.files[0];\n\n    const fileReader = new FileReader();\n    fileReader.onloadend = a => {\n      const data = fileReader.result;\n      const isAnalyzed = true;\n      const isLoading = false;\n\n      this.setState({data, isAnalyzed, isLoading})\n    };\n    \n    // this function calls `onloadend`\n    fileReader.readAsText(file);\n  }\n\n  reset = () => {\n    const isAnalyzed = false;\n\n    this.setState({isAnalyzed});\n  }\n\n  renderBody() {\n    const { data, isAnalyzed, isLoading } = this.state;\n\n    if (isLoading) {\n      return <Loader/>\n    }\n\n    if (!isAnalyzed || !data) {\n      //return <input accept=\".txt\" type=\"file\" name=\"file\" onChange={this.onChangeHandler}/>;\n      return <FileUpload accept=\".txt\" type=\"file\" name=\"file\" onChange={this.onChangeHandler}/>;\n    }\n\n    // for dev\n    // const data = sampleData;\n\n    return (<div>\n      <p><button onClick={() => this.reset()}><Icon name=\"arrow-left\"/> Reset</button></p>\n      <Analysis data={data}/>\n    </div>);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1>WhatsApp Chat Analyzer</h1>\n          {this.renderBody()}\n\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}