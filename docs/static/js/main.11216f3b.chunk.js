(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{347:function(e,t,n){e.exports=n(758)},352:function(e,t,n){},537:function(e,t){},539:function(e,t){},693:function(e,t){},694:function(e,t){},757:function(e,t,n){},758:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(112),i=n.n(c),l=(n(352),n(17)),o=n(18),u=n(20),s=n(19),d=n(113),m=n(21),f=n(319),h=n(329),p=n(9),b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data;return e?r.a.createElement(p.b,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(p.d,{strokeDasharray:"3 3"}),r.a.createElement(p.p,{dataKey:"name"}),r.a.createElement(p.q,null),r.a.createElement(p.o,null),r.a.createElement(p.f,null),r.a.createElement(p.a,{dataKey:"value",fill:"#8884d8"})):null}}]),t}(a.PureComponent),y=["#1f618d","#6c3483","#3498db","#DAF7A6","#FFC300","#FF5733"],O=y.length,j=function(e){return y[e%O]},E=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.labels;return r.a.createElement(p.m,{cx:300,cy:250,outerRadius:150,width:500,height:500,data:t},r.a.createElement(p.j,null),r.a.createElement(p.i,{dataKey:"name"}),r.a.createElement(p.k,null),n.map(function(e,t){return r.a.createElement(p.l,{key:t,name:e,dataKey:e,stroke:j(t),fill:j(t),fillOpacity:.6})}),r.a.createElement(p.f,null))}}]),t}(a.PureComponent),v=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement(p.h,{width:800,height:400,onMouseEnter:this.onPieEnter},r.a.createElement(p.g,{data:e,cx:120,cy:200,innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",label:!0},e.map(function(e,t){return r.a.createElement(p.e,{key:"cell-".concat(t),fill:j(t),label:!0})})),r.a.createElement(p.f,null))}}]),t}(a.PureComponent),g=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.labels;return r.a.createElement(p.b,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(p.d,{strokeDasharray:"3 3"}),r.a.createElement(p.p,{dataKey:"name"}),r.a.createElement(p.q,null),r.a.createElement(p.o,null),r.a.createElement(p.n,{y:0,stroke:"#000"}),r.a.createElement(p.c,{dataKey:"name",height:30,stroke:"#8884d8"}),n.map(function(e,t){return r.a.createElement(p.a,{key:t,dataKey:e,fill:j(t)})}),r.a.createElement(p.f,{verticalAlign:"top",wrapperStyle:{lineHeight:"40px"}}))}}]),t}(a.PureComponent);g.jsfiddleUrl="https://jsfiddle.net/alidingling/mc8r7e6p/";var C=n(117),k=n.n(C);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P=k.a.number.formatNumber,A=k.a.string.padding,D=k.a.date,x=D.formatDate,z=D.formatTime,W=D.countDaysDiffBtnDates,K=function(e){return x(e)+" - "+z(e)},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n={};return Object.keys(e).map(function(a){return Object.keys(e[a]).map(function(r){return n[r]||(n[r]={}),n[r][a]=t(e[a][r]),!0})}),n},T=function(e){var t=/(\d{1,2})\/(\d{1,2})\/(\d{2}), (\d{1,2}):(\d{2}) - ([^:]+):(.*)/g.exec(e);if(t&&8===t.length){var n=Object(h.a)(t,8),a=(n[0],n[1]),r=n[2],c=n[3],i=n[4],l=n[5],o=n[6],u=n[7];return{date:function(e,t,n){return"20".concat(n,"-").concat(A(t,2),"-").concat(A(e,2))}(r,a,c),time:function(e,t){return"".concat(A(e,2),":").concat(A(t,2),":00")}(i,l),sender:o,content:u}}return null},R=function(e){var t=e.date+"T"+e.time;return new Date(t)},F=function(e){return e.split(/\s+/).length},H=function(e){var t=e.length,n=e[0],a=e[t-1],r=R(n),c=R(a),i=W(r,c),l=function(e){return e.map(function(e){return{nWords:F(e.content),nChars:e.content.length}}).reduce(function(e,t){return{nWords:e.nWords+t.nWords,nChars:e.nChars+t.nChars}})}(e);return{n:t,firstTime:r,lastTime:c,nDays:i,nWords:l.nWords,nChars:l.nChars}},S=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).renderBarChart=function(e){var t=Object.keys(e).map(function(t){return{name:t,value:e[t]}});return r.a.createElement(b,{data:t})},n.renderRadar=function(e,t){var n=Object.keys(e).map(function(t){return B({name:t},e[t])});return r.a.createElement(E,{data:n,labels:t})},n.renderPieChart=function(e){var t=Object.keys(e).map(function(t){return{name:t,value:e[t]}});return r.a.createElement(v,{data:t})},n.renderBrushBarChart=function(e,t){var n=N(e,function(e){return e.messages}),a=Object.keys(n).map(function(e){return B({name:e},n[e])});return r.a.createElement(g,{data:a,labels:t})},n.renderVizBox=function(e,t){return r.a.createElement("div",null,e,": ",P(t))},n.state={},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=function(e){return e.map(function(e){return T(e)}).filter(function(e){return null!==e})}(this.props.data.split("\n")),t=function(e){for(var t={times:{},days:{},all:{}},n=0;n<24;n++)t.times[n]={};return e.map(function(e){t.all[e.sender]||(t.all[e.sender]=0,t.days[e.sender]={}),t.all[e.sender]+=1;var n=Number(e.time.substr(0,2));t.times[n][e.sender]||(t.times[n][e.sender]=0),t.times[n][e.sender]+=1,t.days[e.sender][e.date]||(t.days[e.sender][e.date]={messages:0,chars:0,words:0});var a=t.days[e.sender][e.date];return a.messages+=1,a.chars+=e.content.length,a.words+=F(e.content),!0}),t}(e),n=H(e),a=Object.keys(t.all);return r.a.createElement("div",null,r.a.createElement("p",{className:"pull-right"},"from ",K(n.firstTime)," until ",K(n.lastTime)),r.a.createElement("h2",null,"Totals"),r.a.createElement("ul",null,r.a.createElement("li",null,this.renderVizBox("# messages",n.n)),r.a.createElement("li",null,this.renderVizBox("# days",n.nDays)),r.a.createElement("li",null,this.renderVizBox("# words",n.nWords)),r.a.createElement("li",null,this.renderVizBox("# characters",n.nChars))),this.renderBarChart(t.all),this.renderRadar(t.times,a),this.renderPieChart(t.all),this.renderBrushBarChart(t.days,a))}}]),t}(r.a.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("p",null,"Loading ...")}}]),t}(r.a.Component),V=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.name,t="fa fa-".concat(e);return r.a.createElement("i",{className:t})}}]),t}(r.a.Component),q=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){n.props.onChangeHandler(e)},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.name||"file";return r.a.createElement("div",{className:"file-upload-wrapper"},r.a.createElement("div",{className:"file-upload"},r.a.createElement("input",{accept:this.props.accept,type:"file",name:e,onChange:this.props.onChange}),r.a.createElement(V,{name:"arrow-up"})))}}]),t}(r.a.Component),J=(n(757),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).onChangeHandler=function(e){n.setState({isLoading:!0});var t=e.target.files[0],a=new FileReader;a.onloadend=function(e){var t=a.result;n.setState({data:t,isAnalyzed:!0,isLoading:!1})},a.readAsText(t)},n.reset=function(){n.setState({isAnalyzed:!1})},n.state={isLoading:!1,isAnalyzed:!1,data:null},n.onChangeHandler=n.onChangeHandler.bind(Object(d.a)(n)),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"renderBody",value:function(){var e=this,t=this.state,n=t.data,a=t.isAnalyzed;return t.isLoading?r.a.createElement(L,null):a&&n?r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return e.reset()}},r.a.createElement(V,{name:"arrow-left"})," Reset")),r.a.createElement(S,{data:n})):r.a.createElement(q,{accept:".txt",type:"file",name:"file",onChange:this.onChangeHandler})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"WhatsApp Chat Analyzer"),this.renderBody()))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[347,1,2]]]);
//# sourceMappingURL=main.11216f3b.chunk.js.map